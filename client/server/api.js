
var userData = {

    "user": {
        "name": "John Smith"
    },
    "login": {
        "key": "1234"
    }
};

var sessionData = {
    "login": false
};

var commonData = {
    "formTitle": "Pre-NAPLEX",
    "formLogo": "resources/assets/images/PreNAPLEXLogo.jpg",
    "testRules": {
        "allowSkip": true,
        "allowBack": true,
        "allowGoTo": true,
        "allowMarking": true,
        "allowCalculator": true,
        "useScientificCalculator": true,
        "helpAvailable": true,
        "timeTest": true,
        "displayTime": true,
        "allowBackSurvey": false,
        "allowSkipSurvey": true
    },
    "content": [{
        "title": "Pre-NAPLEX Legal Information and Agreement",
        "type": "legal",
        "content": "<p><b>Please review the Security Agreement<ul><li>If you AGREE, click on the &quot;Agree&quot; button.</li><li>If you DISAGREE, click on the &quot;Disagree&quot; button.</li></ul></b></p><br/><p>The contents of this examination are confidential and protected under applicable intellectual property rights, including copyright laws. Disclosure or reproduction of any portion of this examination is strictly prohibited. It is understood that all documents, examination questions, answers and confidential information received from this exam shall remain the exclusive property of NABP. <br/> </p><p>I agree that I shall not copy, retain, or transmit in any format the test questions, answers and the like, to any other person or organizations. By pressing the ENTER (AGREE) key at the end of this screen, I understand that I am consenting to and accepting the obligation to not reproduce any portion of the examination, nor to disclose to third parties, directly or indirectly, any portion of the confidential Pre-NAPLEX exam materials that follow this screen. <br/></p><p>I understand that NABP does not guarantee that successful completion of the Pre-NAPLEX will result in successful completion of the NAPLEX. Further, I understand the score I achieve on the Pre-NAPLEX cannot be added to or used to supplement, decrease or increase my NAPLEX score. </p><p>I further understand that violation of this agreement could result in the institution of criminal, civil, and/or administrative proceedings against me.</p>",
        "disagreeMessage": "<b>You can not take the test if you do not agree with the terms of the Pre-NAPLEX Legal Information and Agreement.</b><br/>To confirm that you disagree with the Pre-NAPLEX Legal Information and Agreement, click 'DISAGREE'.  Doing so will disallow you from moving forward and end your test. Otherwise, click 'GO BACK'."
    }, {
        "title": "Pre-NAPLEX Test Instructions",
        "type": "instructions",
        "content": "<p>Use your mouse to select the command buttons placed on the test screen to navigate through the Pre-NAPLEX. The command buttons can help you learn more about questions, as well as move between questions on a test. The following are some of the commands you will encounter in the Pre-NAPLEX.</p><p>",
        "disagreeMessage": null
    }, {
        "title": "Welcome to the Pre-NAPLEX",
        "type": "welcome",
        "content": "<p>The Pre-NAPLEX is a practice examination to help familiarize you with the NAPLEX experience. The Pre-NAPLEX is not intended for use as a study guide. This practice examination will benefit those who are preparing for the NAPLEX by presenting and scoring actual items previously tested on the NAPLEX.<br/></p><p>Since the full benefit of this experience requires that you complete the Pre-NAPLEX on your own, the Pre-NAPLEX should not be taken in a group nor with study aids or reference materials on hand.<br/></p><p>You will be allowed 70 minutes to complete 50 items. You will not be able to review questions or change an answer once you have confirmed an answer choice and have moved on to the next question.<br/></p><p>Upon completing the examination the timed clock will stop and your score report will be provided for you to print a copy for your records. Prior to exiting the Pre-NAPLEX, you will be asked to respond to the Examinee Exit Evaluation.</p>",
        "disagreeMessage": null
    }]
};

var examData = {
    title: "Portion 1",
    timeInMinutes: "1",
    pages: [
        {
           exhibits: "<exhibits><section data-exhibit-id='Scn:451C1525760148098A3A84C5F5E7DD8F'><img src='image.png'/></section></exhibits>",
           content: "<article data-item-id='234'  data-exhibit-reference='Scn:451C1525760148098A3A84C5F5E7DD8F'  data-objective-link-reference='3.1.6'>   <style>  .question { font-family: Arial; font-size: 12px }  .indent { text-indent: .8em; display: inline-block}  .dl-list { overflow: hidden; padding-left: .5em }  .dl-list dt { clear: both; float: left; margin-right: .5em; }   </style>   <section class='question'>  <div class='header'>     <p>Mr Pickett asks the pharmacist to recommend an OTC analgesic that can be used in combination with his Vicodin ES.  What would be an appropriate recommendation?</p>     <dl class='dl-list'>   <dt>I.</dt>   <dd>Acetaminophen</dd>   <dt>II.</dt>   <dd>Aspirin</dd>   <dt>III.</dt>   <dd>Ibuprofen</dd>     </dl>  </div>  <form class='response'>    <div><input type='radio' value='A'>A. <span class='indent'>I only</span></input></div>    <div><input type='radio' value='B'>B. <span class='indent'>III only</span></input></div>    <div><input type='radio' value='C'>C. <span class='indent'>I and II only</span></input></div>    <div><input type='radio' value='D'>D. <span class='indent'>II and III only</span></input></div>    <div><input type='radio' value='E'>E. <span class='indent'>I, II, and III</span></input></div> </form>  </section>    </article> </page>"
        },
        {
            exhibits: "<exhibits><section data-exhibit-id='Scn:451C1525760148098A3A84C5F5E7DD8F'><img src='image.png'/></section></exhibits>",
            content: "<article data-item-id='234'  data-exhibit-reference='Scn:451C1525760148098A3A84C5F5E7DD8F'  data-objective-link-reference='3.1.6'>   <style>  .question { font-family: Arial; font-size: 12px }  .indent { text-indent: .8em; display: inline-block}  .dl-list { overflow: hidden; padding-left: .5em }  .dl-list dt { clear: both; float: left; margin-right: .5em; }   </style>   <section class='question'>  <div class='header'>     <p>Mr Pickett asks the pharmacist to recommend an OTC analgesic that can be used in combination with his Vicodin ES.  What would be an appropriate recommendation?</p>     <dl class='dl-list'>   <dt>I.</dt>   <dd>Acetaminophen</dd>   <dt>II.</dt>   <dd>Aspirin</dd>   <dt>III.</dt>   <dd>Ibuprofen</dd>     </dl>  </div>  <form class='response'>    <div><input type='radio' value='A'>A. <span class='indent'>I only</span></input></div>    <div><input type='radio' value='B'>B. <span class='indent'>III only</span></input></div>    <div><input type='radio' value='C'>C. <span class='indent'>I and II only</span></input></div>    <div><input type='radio' value='D'>D. <span class='indent'>II and III only</span></input></div>    <div><input type='radio' value='E'>E. <span class='indent'>I, II, and III</span></input></div> </form>  </section>    </article> </page>"
        },
        {
            exhibits: "<exhibits><section data-exhibit-id='Scn:451C1525760148098A3A84C5F5E7DD8F'><img src='image.png'/></section></exhibits>",
            content: "<article data-item-id='234'  data-exhibit-reference='Scn:451C1525760148098A3A84C5F5E7DD8F'  data-objective-link-reference='3.1.6'>   <style>  .question { font-family: Arial; font-size: 12px }  .indent { text-indent: .8em; display: inline-block}  .dl-list { overflow: hidden; padding-left: .5em }  .dl-list dt { clear: both; float: left; margin-right: .5em; }   </style>   <section class='question'>  <div class='header'>     <p>Mr Pickett asks the pharmacist to recommend an OTC analgesic that can be used in combination with his Vicodin ES.  What would be an appropriate recommendation?</p>     <dl class='dl-list'>   <dt>I.</dt>   <dd>Acetaminophen</dd>   <dt>II.</dt>   <dd>Aspirin</dd>   <dt>III.</dt>   <dd>Ibuprofen</dd>     </dl>  </div>  <form class='response'>    <div><input type='radio' value='A'>A. <span class='indent'>I only</span></input></div>    <div><input type='radio' value='B'>B. <span class='indent'>III only</span></input></div>    <div><input type='radio' value='C'>C. <span class='indent'>I and II only</span></input></div>    <div><input type='radio' value='D'>D. <span class='indent'>II and III only</span></input></div>    <div><input type='radio' value='E'>E. <span class='indent'>I, II, and III</span></input></div> </form>  </section>    </article> </page>"
        },
        {
            exhibits: "<exhibits><section data-exhibit-id='Scn:451C1525760148098A3A84C5F5E7DD8F'><img src='image.png'/></section></exhibits>",
            content: "<article data-item-id='234'  data-exhibit-reference='Scn:451C1525760148098A3A84C5F5E7DD8F'  data-objective-link-reference='3.1.6'>   <style>  .question { font-family: Arial; font-size: 12px }  .indent { text-indent: .8em; display: inline-block}  .dl-list { overflow: hidden; padding-left: .5em }  .dl-list dt { clear: both; float: left; margin-right: .5em; }   </style>   <section class='question'>  <div class='header'>     <p>Mr Pickett asks the pharmacist to recommend an OTC analgesic that can be used in combination with his Vicodin ES.  What would be an appropriate recommendation?</p>     <dl class='dl-list'>   <dt>I.</dt>   <dd>Acetaminophen</dd>   <dt>II.</dt>   <dd>Aspirin</dd>   <dt>III.</dt>   <dd>Ibuprofen</dd>     </dl>  </div>  <form class='response'>    <div><input type='radio' value='A'>A. <span class='indent'>I only</span></input></div>    <div><input type='radio' value='B'>B. <span class='indent'>III only</span></input></div>    <div><input type='radio' value='C'>C. <span class='indent'>I and II only</span></input></div>    <div><input type='radio' value='D'>D. <span class='indent'>II and III only</span></input></div>    <div><input type='radio' value='E'>E. <span class='indent'>I, II, and III</span></input></div> </form>  </section>    </article> </page>"
        },
        {
            exhibits: "<exhibits><section data-exhibit-id='Scn:451C1525760148098A3A84C5F5E7DD8F'><img src='image.png'/></section></exhibits>",
            content: "<article data-item-id='234'  data-exhibit-reference='Scn:451C1525760148098A3A84C5F5E7DD8F'  data-objective-link-reference='3.1.6'>   <style>  .question { font-family: Arial; font-size: 12px }  .indent { text-indent: .8em; display: inline-block}  .dl-list { overflow: hidden; padding-left: .5em }  .dl-list dt { clear: both; float: left; margin-right: .5em; }   </style>   <section class='question'>  <div class='header'>     <p>Mr Pickett asks the pharmacist to recommend an OTC analgesic that can be used in combination with his Vicodin ES.  What would be an appropriate recommendation?</p>     <dl class='dl-list'>   <dt>I.</dt>   <dd>Acetaminophen</dd>   <dt>II.</dt>   <dd>Aspirin</dd>   <dt>III.</dt>   <dd>Ibuprofen</dd>     </dl>  </div>  <form class='response'>    <div><input type='radio' value='A'>A. <span class='indent'>I only</span></input></div>    <div><input type='radio' value='B'>B. <span class='indent'>III only</span></input></div>    <div><input type='radio' value='C'>C. <span class='indent'>I and II only</span></input></div>    <div><input type='radio' value='D'>D. <span class='indent'>II and III only</span></input></div>    <div><input type='radio' value='E'>E. <span class='indent'>I, II, and III</span></input></div> </form>  </section>    </article> </page>"
        },
        {
            exhibits: "<exhibits><section data-exhibit-id='Scn:451C1525760148098A3A84C5F5E7DD8F'><img src='image.png'/></section></exhibits>",
            content: "<article data-item-id='234'  data-exhibit-reference='Scn:451C1525760148098A3A84C5F5E7DD8F'  data-objective-link-reference='3.1.6'>   <style>  .question { font-family: Arial; font-size: 12px }  .indent { text-indent: .8em; display: inline-block}  .dl-list { overflow: hidden; padding-left: .5em }  .dl-list dt { clear: both; float: left; margin-right: .5em; }   </style>   <section class='question'>  <div class='header'>     <p>Mr Pickett asks the pharmacist to recommend an OTC analgesic that can be used in combination with his Vicodin ES.  What would be an appropriate recommendation?</p>     <dl class='dl-list'>   <dt>I.</dt>   <dd>Acetaminophen</dd>   <dt>II.</dt>   <dd>Aspirin</dd>   <dt>III.</dt>   <dd>Ibuprofen</dd>     </dl>  </div>  <form class='response'>    <div><input type='radio' value='A'>A. <span class='indent'>I only</span></input></div>    <div><input type='radio' value='B'>B. <span class='indent'>III only</span></input></div>    <div><input type='radio' value='C'>C. <span class='indent'>I and II only</span></input></div>    <div><input type='radio' value='D'>D. <span class='indent'>II and III only</span></input></div>    <div><input type='radio' value='E'>E. <span class='indent'>I, II, and III</span></input></div> </form>  </section>    </article> </page>"
        }
    ]
};

exports.user = function (req, res) {
    if (!sessionData.login) {
        res.send(401);
    } else {
        console.log("[api] sending user data");
        res.json(userData.user);
    }
};

exports.login = function(req, res) {
    var key = req.query.key;
    var username = req.query.username;
    console.log("key: " + key);
    console.log("user: " + username);
    if (key == userData.login.key) {
        sessionData.login = true;
        res.json(true);
    } else {
        res.send(401);
    }

};

exports.common = function(req, res) {
    if (!sessionData.login) {
        res.send(401);
    } else {
        console.log("[api] sending common content");
        res.json(commonData);
        //res.json( { content: true });
    }

};

exports.exam = function(req, res) {
    if (!sessionData.login) {
        res.send(401);
    } else {
        console.log("[api] sending exam content");
        res.json(examData);
        //res.json( { content: true });
    }

};