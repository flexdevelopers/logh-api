<div class="header-row row">
  <div class="col-sm-9 col-md-9">
    <h3 class="league-name">
      <button type="button" class="league-name-link btn btn-link btn-lg" ng-disabled="!isCommish(leagueData)" ng-click="editLeague(leagueData)">
        <i class="glyphicon glyphicon-lock" ng-show="!leagueData.public"></i>
        <i class="glyphicon glyphicon-ok-sign" ng-show="leagueData.public"></i>     <!--todo: pick a better icon for public-->
        {{leagueData.name}}
      </button>
      <small>{{starts(leagueData)}}</small>
    </h3>
  </div>
  <div class="col-sm-3 col-md-3">
    <div class="league-btn-group">
      <button type="button" class="btn btn-success btn-sm" ng-show="!leagueData.started && !leagueData.public && !isCommish(leagueData)" ng-click="requestInvite(leagueData)">Get Invite</button>
      <button type="button" class="btn btn-success btn-sm" ng-show="!leagueData.started && isCommish(leagueData)" ng-click="invite(leagueData.id)">Invite</button>
      <button type="button" class="btn btn-success btn-sm" ng-show="!leagueData.started" ng-click="joinLeague(leagueData)">Join</button>
    </div>
  </div>
</div>
<div class="row" ng-show="false">
  <div class="col-sm-12 col-md-12">
    <form name="contactCommishForm" role="form" novalidate>
      <div class="form-group">
        <textarea id="commishMessage" name="commishMessage" class="form-control" placeholder="Send a direct message to the commish. By doing so the commish we be made aware of your emails address. " rows="2" maxlength="200" ng-model="commishMessage" required></textarea>
      </div>
      <button type="submit" class="btn btn-info" ng-disabled="contactCommishForm.$invalid" ng-click="sendCommishMessage(leagueData, commishMessage)">Send</button>
    </form>
  </div>
</div>
<div class="league-message well well-sm" ng-show="!isCommish(leagueData)">{{message(leagueData)}}</div>
<form name="messageForm" role="form" ng-show="isCommish(leagueData)" novalidate>
  <div class="row">
    <div class="col-sm-12 col-md-12">
      <div class="form-group">
        <textarea id="message" name="message" class="form-control" placeholder="Enter a message for you league here..." rows="2" maxlength="200" ng-model="leagueData.message"></textarea>
      </div>
    </div>
  </div>
  <button type="submit" class="btn btn-info" ng-click="updateLeagueMessage(leagueData)">Update Message</button>
</form>
<h4>Teams ({{leagueData.team_count}})</h4>
<hr>
<div class="league-container" style="clear:both;">
  <div class="input-group custom-search-form">
    <input type="text" class="form-control" placeholder="Filter by team name..." ng-model="search.name">
        <span class="input-group-btn">
            <button class="btn btn-default" type="button">
              <span class="glyphicon glyphicon-search"></span>
            </button>
        </span>
  </div>
  <tabset>
    <tab select="resetSearch()">
      <tab-heading>
        <i class="glyphicon glyphicon-thumbs-up"></i> Alive
      </tab-heading>
      <div class="alive-teams list-group">
        <a ng-repeat="team in aliveTeams | filter:search:strict | offsetFilter:(currentTeamPage-1)*teamsPerPage | limitTo:teamsPerPage" ng-click="showTeam(team)" class="list-group-item">
          <div class="row">
            <div class="league-name col-sm-6 col-md-6"><i class="glyphicon glyphicon-user" ng-show="isCoach(team)"></i> {{team.name}} <span class="coach-name">{{coachName(team)}}</span></div>
            <div class="col-sm-6 col-md-6">
              <span class="current-pick" ng-show="team.active">Current Pick: [ {{team.last_pick_squad_name}} ]</span>
              <span class="inactive-team" ng-show="!team.active">Deactivated by the commish</span>
              <span class="badge">View</span>
            </div>
          </div>
        </a>
      </div>
      <div class="alive-teams-pagination" ng-show="(aliveTeams | filter:search:strict).length > 0">
        <pagination boundary-links="true" max-size="4" total-items="(aliveTeams | filter:search:strict).length" items-per-page="teamsPerPage" ng-model="currentTeamPage" class="pagination-md" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination>
      </div>
      <div class="alert alert-info" ng-show="(aliveTeams | filter:search:strict).length == 0">
        No teams found
      </div>
    </tab>
    <tab select="resetSearch()">
      <tab-heading>
        <i class="glyphicon glyphicon-thumbs-down"></i> Dead
      </tab-heading>
      <div class="dead-teams list-group">
        <a ng-repeat="team in deadTeams | filter:search:strict | offsetFilter:(currentTeamPage-1)*teamsPerPage | limitTo:teamsPerPage" ng-click="showTeam(team)" class="list-group-item">
          <div class="row">
            <div class="league-name col-sm-4 col-md-4"><i class="glyphicon glyphicon-user" ng-show="isCoach(team)"></i> {{team.name}} <span class="coach-name">{{coachName(team)}}</span></div>
            <div class="col-sm-8 col-md-8">
              <span class="current-pick" ng-show="team.active">Last Pick: [ {{team.last_pick_squad_name}} ]</span>
              <span class="inactive-team" ng-show="!team.active">Deactivated by the commish</span>
              <span class="badge">View</span>
            </div>
          </div>
        </a>
      </div>
      <div class="dead-teams-pagination" ng-show="(deadTeams | filter:search:strict).length > 0">
        <pagination boundary-links="true" max-size="4" total-items="(deadTeams | filter:search:strict).length" items-per-page="teamsPerPage" ng-model="currentTeamPage" class="pagination-md" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination>
      </div>
      <div class="alert alert-info" ng-show="(deadTeams | filter:search:strict).length == 0">
        No teams found
      </div>
    </tab>
  </tabset>
</div>
